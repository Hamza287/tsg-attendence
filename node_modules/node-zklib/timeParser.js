exports.decode = (time) => {
  const second = time % 60;
  time = Math.floor(time / 60);

  const minute = time % 60;
  time = Math.floor(time / 60);

  const hour = time % 24;
  time = Math.floor(time / 24);

  const day = (time % 31) + 1;
  time = Math.floor(time / 31);

  const month = (time % 12) + 1;
  time = Math.floor(time / 12);

  const year = time + 2000;

  // ✅ FIX: use PKT, not UTC
  return new Date(year, month - 1, day, hour, minute, second);
};



/**
 * Encode JS Date → ZKTeco timestamp
 * ✅ FIX: Always write Year → Month → Day in proper slots
 */
// Decode ZKTeco timestamp → JS Date
exports.decode = (time) => {
  const second = time % 60; time = Math.floor(time / 60);
  const minute = time % 60; time = Math.floor(time / 60);
  const hour = time % 24;   time = Math.floor(time / 24);
  const day = (time % 31) + 1; time = Math.floor(time / 31);
  const month = (time % 12) + 1; time = Math.floor(time / 12);
  const year = time + 2000;

  // ✅ FIX: Return plain local date (no UTC shift)
  return new Date(year, month - 1, day, hour, minute, second);
};

